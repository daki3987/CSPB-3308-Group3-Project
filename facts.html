<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fact Detail</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="header">
    <div class="title">Cultural Facts Explorer</div>
  </div>

  <div class="content">
    <div class="sidebar">
      <h3>Continents</h3>
      <a href="fact.html?continent=Europe" data-continent="Europe">Europe</a>
      <a href="fact.html?continent=Africa" data-continent="Africa">Africa</a>
      <a href="fact.html?continent=Asia" data-continent="Asia">Asia</a>
      <a href="fact.html?continent=Middle%20East" data-continent="Middle East">Middle East</a>
      <a href="fact.html?continent=Oceania" data-continent="Oceania">Oceania</a>
      <a href="fact.html?continent=North%20America" data-continent="North America">North America</a>
      <a href="fact.html?continent=South%20America" data-continent="South America">South America</a>
      <a class="back-link" href="index.html">← Back to Map</a>
    </div>

    <div class="main">
      <div class="fact-header">
        <h1 id="fact-title">Cultural Fact</h1>
        <div class="rating" id="fact-rating">★★★★☆ (4.0)</div>
      </div>

      <img id="fact-image" src="images/fact1.jpg" alt="Cultural Image" class="fact-image"/>

      <p id="fact-description">
        This is a more detailed description of the cultural fact.
      </p>

      <hr/>

      <div class="review-section">
        <h2>Reviews & Ratings</h2>
        <form id="comment-form">
          <input type="text" id="username" placeholder="Your name" required />
          <textarea id="commentText" placeholder="Write your comment..." required></textarea>

          <div class="star-rating">
            <label for="rating">Your Rating:</label>
            <select id="rating" required>
              <option value="">Rate</option>
              <option value="5">★★★★★</option>
              <option value="4">★★★★☆</option>
              <option value="3">★★★☆☆</option>
              <option value="2">★★☆☆☆</option>
              <option value="1">★☆☆☆☆</option>
            </select>
          </div>

          <button type="submit">Submit Review</button>
        </form>

        <div id="comments-list" class="comments-list"></div>
      </div>
    </div>
  </div>

  <script>
    const factsData = {
      "Europe": {
        title: "French Fries Origin",
        image: "images/fact1.jpg",
        description: "Despite the name, French fries are believed to have originated in Belgium. They became popular in France during WWI and were later brought to the U.S. by returning soldiers.",
        rating: "★★★★☆ (4.2)"
      },
      "Africa": {
        title: "Ostrich Eggs in Cuisine",
        image: "images/fact2.jpg",
        description: "In various African cultures, ostrich eggs are used in traditional meals. A single ostrich egg can weigh over 3 pounds and feed a family of 6–10 people.",
        rating: "★★★☆☆ (3.7)"
      },
      "Asia": {
        title: "Kimchi Fermentation",
        image: "images/fact3.jpg",
        description: "In Korea, kimchi has been traditionally fermented underground in large earthenware jars called 'onggi'. The process preserves vegetables and enhances flavor.",
        rating: "★★★★★ (4.8)"
      },
      "Middle East": {
        title: "Sahara Snow",
        image: "images/fact4.jpg",
        description: "Although rare, the Sahara Desert has experienced snowfall. One notable instance was in 2018 when parts of Algeria saw several inches of snow.",
        rating: "★★★☆☆ (3.9)"
      },
      "Oceania": {
        title: "Kiwi – The Bird, Not the Fruit",
        image: "images/fact5.jpg",
        description: "The kiwi is a flightless bird native to New Zealand and serves as a national symbol. It is nocturnal and lays one of the largest eggs in relation to its body size.",
        rating: "★★★★☆ (4.4)"
      },
      "North America": {
        title: "Maple Syrup Culture",
        image: "images/fact6.jpg",
        description: "Maple syrup is a major product in Canada. It’s made by collecting sap from sugar maple trees and boiling it down to a syrupy consistency.",
        rating: "★★★★★ (4.6)"
      },
      "South America": {
        title: "Llamas in Andean Life",
        image: "images/fact7.jpg",
        description: "Llamas are domesticated animals commonly found in the Andes. They are used for transport, wool, and have strong cultural significance in Peru and Bolivia.",
        rating: "★★★★☆ (4.1)"
      }
    };

    const params = new URLSearchParams(window.location.search);
    const continent = params.get("continent") || "Europe";

    const data = factsData[continent];

    document.getElementById("fact-title").textContent = data.title;
    document.getElementById("fact-image").src = data.image;
    document.getElementById("fact-description").textContent = data.description;
    document.getElementById("fact-rating").textContent = data.rating;

    const form = document.getElementById('comment-form');
    const commentsList = document.getElementById('comments-list');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const username = document.getElementById('username').value;
      const text = document.getElementById('commentText').value;
      const rating = document.getElementById('rating').value;

      const commentElement = document.createElement('div');
      commentElement.className = 'comment';

      commentElement.innerHTML = `
        <strong>${username}</strong> (${rating}★)<br/>
        <p>${text}</p>
        <hr/>
      `;

      commentsList.prepend(commentElement);

      form.reset();
    });
  </script>
</body>
</html>
